(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{103:function(e,t,a){},12:function(e,t,a){e.exports={Button:"Button_Button__27i9m",PaddingReset:"Button_PaddingReset__3EaQQ",MarginLeftRight:"Button_MarginLeftRight__1wbIa",TransparentButton:"Button_TransparentButton__9gW-9"}},135:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(32),c=a.n(n),i=(a(103),a(17)),r=a(19),o=a.n(r);o.a.defaults.baseURL="/api",o.a.defaults.headers.post["Content-Type"]="multipart/form-data",o.a.defaults.withCredentials=!0;const l=o.a.create(),d=o.a.create();var j=a(94);const b=async(e,t)=>{try{const{data:a}=await l.get(e.next);t((e=>({...e,next:a.next,results:a.results.reduce(((e,t)=>e.some((e=>e.id===t.id))?e:[...e,t]),e.results)})))}catch(a){}},h=()=>{localStorage.removeItem("refreshTokenTimestamp"),localStorage.removeItem("code"),localStorage.removeItem("code_verifier"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")};function u(e,t,a){return(e.average_rating*e.ratings_count-t+a)/e.ratings_count}function m(e,t){return(e.average_rating*e.ratings_count+t)/(e.ratings_count+1)}var p=a(1);const x=Object(s.createContext)(),O=Object(s.createContext)(),g=()=>Object(s.useContext)(x),f=()=>Object(s.useContext)(O),v=e=>{let{children:t}=e;const[a,n]=Object(s.useState)(null),c=Object(i.f)();Object(s.useEffect)((()=>{r()}),[]),Object(s.useMemo)((()=>{l.interceptors.request.use((async e=>{if(localStorage.getItem("refreshTokenTimestamp"))try{await o.a.post("/dj-rest-auth/token/refresh/")}catch(t){return n((e=>(e&&c.push("/signin"),null))),h(),e}return e}),(e=>Promise.reject(e))),d.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)){try{await o.a.post("/dj-rest-auth/token/refresh/")}catch(e){n((e=>(e&&c.push("/signin"),null))),h()}return o()(e.config)}return Promise.reject(e)}))}),[c]);const r=async()=>{try{const{data:e}=await d.get("dj-rest-auth/user/");n(e)}catch(e){}};return Object(p.jsx)(x.Provider,{value:a,children:Object(p.jsx)(O.Provider,{value:n,children:t})})};var _=a(14),y=a(96),w=a.n(y);var C=e=>{let{src:t,height:a=45}=e;const s=g();return Object(p.jsx)("span",{children:Object(p.jsx)("img",{className:w.a.Avatar,src:t,height:a,width:a,alt:"".concat(null===s||void 0===s?void 0:s.username,"' avatar")})})},S=a(10),N=a(84),k=a(52),P=a(25),I=a(24),F=a(15),B=a(73),A=a(21),R=a(29),T=a.n(R);var L=()=>{const e=g(),t=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"Home"}),children:Object(p.jsx)(N.a.Brand,{className:T.a.Brand,href:"/",children:"We -R- Music"})}),Object(p.jsxs)(k.a,{className:T.a.SignInOut,children:[Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"Click to Login"}),children:Object(p.jsxs)(_.c,{className:T.a.SignUpIn,activeClassName:T.a.Active,to:"/signin",children:[Object(p.jsx)(F.a,{className:T.a.MarginRight,icon:A.k,size:"2xl"}),"Login"]})}),Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"Click to sign up!"}),children:Object(p.jsxs)(_.c,{className:T.a.SignUpIn,activeClassName:T.a.Active,to:"/signup",children:[Object(p.jsx)(F.a,{className:T.a.MarginRight,icon:A.m,size:"2xl"}),"Sign Up!"]})})]})]}),a=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k.a,{className:"mr-auto",children:Object(p.jsx)(P.a,{placement:"top",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"All playlists"}),children:Object(p.jsx)(_.c,{activeClassName:T.a.Active,to:"/global",children:Object(p.jsx)(F.a,{icon:A.f,size:"2xl"})})})}),Object(p.jsx)(k.a,{className:"mr-auto",children:Object(p.jsx)(P.a,{placement:"top",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"Followed user feed"}),children:Object(p.jsx)(_.c,{activeClassName:T.a.Active,to:"/feed",children:Object(p.jsx)(F.a,{icon:A.i,size:"2xl"})})})}),Object(p.jsx)(k.a,{children:Object(p.jsx)(P.a,{placement:"top",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"Your profile"}),children:Object(p.jsx)(_.c,{activeClassName:T.a.ProfileActive,to:"/profile/".concat(null===e||void 0===e?void 0:e.profile_id),children:Object(p.jsx)(C,{src:null===e||void 0===e?void 0:e.profile_image,height:40})})})}),Object(p.jsx)(k.a,{className:"ml-auto",children:Object(p.jsx)(P.a,{placement:"top",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"Playlists you've rated"}),children:Object(p.jsx)(_.c,{activeClassName:T.a.Active,to:"/rated-playlists",children:Object(p.jsx)(F.a,{icon:A.l,size:"2xl"})})})}),Object(p.jsx)(k.a,{className:"ml-auto",children:Object(p.jsx)(P.a,{placement:"top",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"Search Spotify"}),children:Object(p.jsx)(_.c,{to:"/spotify-search",children:Object(p.jsx)(F.a,{icon:B.a,style:{color:"#1db954"},size:"2xl"})})})})]}),s=e?"bottom":"top";return Object(p.jsx)(N.a,{className:T.a.NavBar,expand:"md",fixed:s,children:Object(p.jsx)(S.a,{children:e?a:t})})};const H=Object(s.createContext)(),U=Object(s.createContext)(),E=()=>Object(s.useContext)(H),M=()=>Object(s.useContext)(U),D=e=>{let{children:t}=e;const[a,n]=Object(s.useState)("");return Object(p.jsx)(H.Provider,{value:a,children:Object(p.jsx)(U.Provider,{value:n,children:t})})};var z=function(){const e=Object(s.useRef)(),t=E(),[a,n]=Object(s.useState)(null);return Object(s.useEffect)((()=>{const a=document.createElement("script");a.src="https://open.spotify.com/embed/iframe-api/v1",a.async=!0,document.body.appendChild(a),window.onSpotifyIframeApiReady=a=>{const s={width:"100%",height:"352px",uri:t};a.createController(e.current,s,(e=>{n(e)}))}}),[t]),Object(s.useEffect)((()=>{a&&a.loadUri(t)}),[t,a]),Object(p.jsx)("div",{ref:e})},W=a(77),G=a(78),Y=a(11),q=a(49),K=a.n(q);var V=function(){const e=E(),[t,a]=Object(s.useState)(""),[n,c]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{e&&(a("0"),c(!0))}),[e]),Object(p.jsx)(W.a,{activeKey:t,onSelect:()=>{a("0"===t?"":"0")},className:"".concat(K.a.AccordionPosition," ").concat(n?"":K.a.Hidden),children:Object(p.jsxs)(G.a,{className:K.a.Card,children:[Object(p.jsx)(G.a.Header,{className:K.a.Header,children:Object(p.jsx)(W.a.Toggle,{as:Y.a,variant:"link",eventKey:"0",className:K.a.PaddingReset,children:Object(p.jsx)(F.a,{icon:t?A.b:A.c})})}),Object(p.jsx)(W.a.Collapse,{eventKey:"0",children:Object(p.jsx)(G.a.Body,{className:K.a.PaddingReset,children:Object(p.jsx)(z,{})})})]})})};const J=()=>{const e=Object(i.f)(),t=g(),a=t?"loggedIn":"loggedOut",n=["/signin","/signup"].includes(e.location.pathname),c=["/"].includes(e.location.pathname);Object(s.useEffect)((()=>{(async()=>{if(n||c){if("loggedIn"===a)return void e.push("/profile/".concat(t.profile_id));if("loggedOut"===a)return}try{if(await o.a.post("/dj-rest-auth/token/refresh/"),"loggedIn"===a)return}catch(s){"loggedOut"===a&&e.push("/")}})()}),[e,a,t,n,c])};var Q=a(7),Z=a(9),X=a(50),$=a.n(X);var ee=()=>(J(),Object(p.jsx)(S.a,{className:$.a.Container,children:Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(Q.a,{xs:7}),Object(p.jsxs)(Q.a,{xs:5,className:$.a.TitleContainer,children:[Object(p.jsx)("h1",{className:$.a.Title,children:"We Rate Music"}),Object(p.jsx)("hr",{className:$.a.Line}),Object(p.jsx)("hr",{className:$.a.SecondLine}),Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{className:$.a.IntroContainer,children:Object(p.jsx)("p",{children:"Welcome to We Rate Music! The place to rate and review your favorite music."})})})]})]})})),te=a(13),ae=a(8),se=a(34),ne=a.n(se),ce=a(12),ie=a.n(ce),re=a(37),oe=a.n(re);var le=()=>{var e,t,a,n;J();const[c,r]=Object(s.useState)({username:"",password1:"",password2:""}),{username:l,password1:d,password2:j}=c,[b,h]=Object(s.useState)({}),u=Object(i.f)(),m=e=>{r({...c,[e.target.name]:e.target.value})};return Object(p.jsx)(S.a,{children:Object(p.jsx)(Z.a,{className:ne.a.Row,children:Object(p.jsxs)(Q.a,{className:"my-auto py-2 p-md-2",children:[Object(p.jsxs)(S.a,{className:"".concat(oe.a.Content," p-4 "),children:[Object(p.jsx)("h1",{className:ne.a.Header,children:"sign up"}),Object(p.jsxs)(ae.a,{onSubmit:async e=>{e.preventDefault();try{await o.a.post("/dj-rest-auth/registration/",c),u.push("/signin")}catch(a){var t;h(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(p.jsxs)(ae.a.Group,{controlId:"username",children:[Object(p.jsx)(ae.a.Label,{className:"d-none",children:"username"}),Object(p.jsx)(ae.a.Control,{className:ne.a.Input,type:"text",placeholder:"Username",name:"username",value:l,onChange:m})]}),null===(e=b.username)||void 0===e?void 0:e.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t))),Object(p.jsxs)(ae.a.Group,{controlId:"password1",children:[Object(p.jsx)(ae.a.Label,{className:"d-none",children:"Password"}),Object(p.jsx)(ae.a.Control,{className:ne.a.Input,type:"password",placeholder:"Password",name:"password1",value:d,onChange:m})]}),null===(t=b.password1)||void 0===t?void 0:t.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t))),Object(p.jsxs)(ae.a.Group,{controlId:"password2",children:[Object(p.jsx)(ae.a.Label,{className:"d-none",children:"Confirm password"}),Object(p.jsx)(ae.a.Control,{className:ne.a.Input,type:"password",placeholder:"Confirm password",name:"password2",value:j,onChange:m})]}),null===(a=b.password2)||void 0===a?void 0:a.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t))),Object(p.jsx)(Y.a,{className:ie.a.Button,type:"submit",children:"Sign up"}),null===(n=b.non_field_errors)||void 0===n?void 0:n.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",className:"mt-3",children:e},t)))]})]}),Object(p.jsx)(S.a,{className:"mt-3 ".concat(oe.a.Content),children:Object(p.jsxs)(_.b,{className:ne.a.Link,to:"/signin",children:["Already have an account? ",Object(p.jsx)("span",{children:"Sign in"})]})})]})})})};var de=function(){var e,t,a;const n=f();J();const[c,r]=Object(s.useState)({username:"",password:""}),{username:l,password:d}=c,[b,h]=Object(s.useState)({}),u=Object(i.f)(),m=e=>{r({...c,[e.target.name]:e.target.value})};return Object(p.jsx)(S.a,{children:Object(p.jsx)(Z.a,{className:ne.a.Row,children:Object(p.jsxs)(Q.a,{className:"my-auto py-2 p-md-2",children:[Object(p.jsxs)(S.a,{className:"".concat(oe.a.Content," p-4"),children:[Object(p.jsx)("h1",{className:ne.a.Header,children:"sign in"}),Object(p.jsxs)(ae.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await o.a.post("/dj-rest-auth/login/",c);n(e.user),(e=>{const t=Object(j.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",t)})(e),u.push("/profile/".concat(e.user.profile_id))}catch(a){var t;h(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(p.jsxs)(ae.a.Group,{controlId:"username",children:[Object(p.jsx)(ae.a.Label,{className:"d-none",children:"Username"}),Object(p.jsx)(ae.a.Control,{className:ne.a.Input,type:"text",placeholder:"Username",name:"username",value:l,onChange:m})]}),null===(e=b.username)||void 0===e?void 0:e.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t))),Object(p.jsxs)(ae.a.Group,{controlId:"password",children:[Object(p.jsx)(ae.a.Label,{className:"d-none",children:"Password"}),Object(p.jsx)(ae.a.Control,{className:ne.a.Input,type:"password",placeholder:"Password",name:"password",value:d,onChange:m})]}),null===(t=b.password)||void 0===t?void 0:t.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t))),Object(p.jsx)(Y.a,{className:ie.a.Button,type:"submit",children:"Sign in"}),null===(a=b.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",className:"mt-3",children:e},t)))]})]}),Object(p.jsx)(S.a,{className:"mt-3 ".concat(oe.a.Content),children:Object(p.jsxs)(_.b,{className:ne.a.Link,to:"/signup",children:["Don't have an account? ",Object(p.jsx)("span",{children:"Sign up now!"})]})})]})})})},je=a(97),be=a.n(je);var he=e=>{let{image:t,title:a}=e;return Object(p.jsx)("img",{src:t||"https://res.cloudinary.com/dxgzepuov/image/upload/v1702896303/default_post_uq5gxz.jpg",className:be.a.Image,alt:"".concat(a,"'s cover art")})};var ue=()=>Object(p.jsx)("div",{children:Object(p.jsx)(F.a,{icon:A.e,size:"2xl",spin:!0})}),me=a(75),pe=a(83),xe=a(58),Oe=a.n(xe);var ge=function(e){let{onSearch:t,liveSearch:a=!1}=e;const[n,c]=Object(s.useState)(""),[r,o]=Object(s.useState)([]),[d,j]=Object(s.useState)(!1),[h,u]=Object(s.useState)(!1),m=Object(i.f)(),x=h?Object(p.jsx)(S.a,{className:Oe.a.DropdownMenu,children:null!==r&&void 0!==r&&r.results.length?Object(p.jsx)(me.a,{dataLength:r.results.length,loader:Object(p.jsx)(ue,{}),hasMore:!!r.next,next:()=>b(r,o),className:Oe.a.InfiniteScroll,children:r.results.map((e=>Object(p.jsxs)(Z.a,{className:Oe.a.DropdownItem,onClick:()=>{m.push("/profile/".concat(e.id))},children:[Object(p.jsx)(C,{src:e.image,height:75}),Object(p.jsx)(Q.a,{children:e.owner})]},e.id)))}):Object(p.jsx)(Z.a,{className:Oe.a.DropdownItem,children:Object(p.jsx)(Q.a,{children:"No results found"})})}):Object(p.jsx)(S.a,{className:Oe.a.DropdownMenu,children:Object(p.jsx)(ue,{})});return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ae.a,{onSubmit:async e=>{e.preventDefault(),t(n)},children:Object(p.jsx)(ae.a.Group,{controlId:"searchForm",style:{marginBottom:"0"},children:Object(p.jsxs)(pe.a,{children:[Object(p.jsx)(ae.a.Control,{type:"text",placeholder:a?"Search for users":"Search Spotify",onChange:async e=>{const t=e.target.value;c(t),""!==t?a&&await(async()=>{try{const{data:e}=await l.get("profiles/?search=".concat(n));o(e),j(!0),u(!0)}catch(e){}})():j(!1)},value:n}),Object(p.jsx)(pe.a.Append,{children:a?null:Object(p.jsx)(Y.a,{type:"submit",className:ie.a.Button,children:Object(p.jsx)(F.a,{icon:A.g,style:{color:"#3d3d3d"},size:"lg"})})})]})})}),a&&d&&x]})},fe=a(59),ve=a.n(fe),_e=a(48),ye=a.n(_e);var we=e=>{let{filter:t="",profileView:a=!1,pageName:n=""}=e;const[c,r]=Object(s.useState)([]),[d,j]=Object(s.useState)(!1),h=Object(i.f)();J(),Object(s.useEffect)((()=>{const e=o.a.CancelToken.source();return j(!1),(async()=>{try{const{data:a}=await l.get("playlists/?".concat(t),{cancelToken:e.token});r(a),j(!0)}catch(s){var a;o.a.isCancel(s)||404===(null===(a=s.response)||void 0===a?void 0:a.status)&&h.push("/404-error-page")}})(),()=>{e.cancel("Request canceled")}}),[t,h]);return d?Object(p.jsxs)(S.a,{className:a?ve.a.ProfileContainer:ve.a.Container,children:[a?null:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z.a,{className:ve.a.HighlightedContainer,children:Object(p.jsx)(Q.a,{children:Object(p.jsx)("h2",{children:n})})}),!t&&Object(p.jsx)(ge,{liveSearch:!0})]}),c.results.length?Object(p.jsx)(S.a,{children:Object(p.jsx)(me.a,{dataLength:c.results.length,loader:Object(p.jsx)(ue,{}),hasMore:!!c.next,next:()=>b(c,r),className:ve.a.InfiniteScroll,children:Object(p.jsx)(Z.a,{children:c.results.map((e=>Object(p.jsx)(Q.a,{className:oe.a.PaddingReset,xs:4,md:3,children:Object(p.jsx)(Y.a,{variant:"link",onClick:()=>h.push("/playlist/".concat(e.id)),className:ve.a.Button,children:Object(p.jsx)(he,{image:e.image,title:e.title})})},e.id)))})})}):(()=>{switch(n){case"All Playlists":default:return Object(p.jsx)("p",{children:"No playlists found!"});case"Followed Users":return Object(p.jsx)("p",{children:"You aren't following any users yet..."});case"Your Rated Playlists":return Object(p.jsx)("p",{children:"You haven't rated any playlists yet..."})}})()]}):Object(p.jsx)(ue,{className:ye.a.Centered})},Ce=a(61),Se=a(65),Ne=a.n(Se);var ke=function(e){let{title:t,body:a,onHide:s,onConfirm:n,...c}=e;return Object(p.jsxs)(Ce.a,{...c,size:"sm","aria-labelledby":"confirmation modal",centered:!0,children:[Object(p.jsx)(Ce.a.Header,{className:Ne.a.Header,closeButton:!0,children:Object(p.jsx)(Ce.a.Title,{id:"confirmation modal",className:Ne.a.Color,children:t})}),Object(p.jsx)(Ce.a.Body,{className:Ne.a.Body,children:a}),Object(p.jsxs)(Ce.a.Footer,{className:Ne.a.Footer,children:[Object(p.jsx)(Y.a,{onClick:s,className:ie.a.Button,children:"Close"}),Object(p.jsx)(Y.a,{onClick:n,className:ie.a.Button,children:"Confirm"})]})]})},Pe=a(98),Ie=a.n(Pe);var Fe=()=>{const e=f(),[t,a]=Object(s.useState)(!1),n=Object(i.f)();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"sign-out-tooltip",children:"Sign Out"}),children:Object(p.jsx)(Y.a,{onClick:()=>a(!0),className:ie.a.TransparentButton,children:Object(p.jsx)(F.a,{className:Ie.a.FontAwesomeIcon,icon:A.j,size:"xl"})})}),Object(p.jsx)(ke,{show:t,onHide:()=>a(!1),onConfirm:async()=>{try{await o.a.post("/dj-rest-auth/logout/"),e(null),h(),a(!1),n.push("/")}catch(t){}},title:"Sign out?",body:"Are you sure you want to sign out?"})]})},Be=a(55),Ae=a(18),Re=a.n(Ae);var Te=e=>{let{userId:t}=e;const a=g(),[n,c]=Object(s.useState)({}),[r,o]=Object(s.useState)(!1),[j,b]=Object(s.useState)(!1),[h,u]=Object(s.useState)(window.innerWidth<768),m=Object(i.f)();Object(s.useEffect)((()=>{const e=()=>{u(window.innerWidth<768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),Object(s.useEffect)((()=>{o(!1),(async()=>{try{const{data:e}=await l.get("profiles/".concat(t));c(e),b(!!e.following_id),o(!0)}catch(a){var e;404===(null===(e=a.response)||void 0===e?void 0:e.status)&&m.push("/404-error-page")}})()}),[t,m]);const x=Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"follow-tooltip",children:"Follow"}),children:Object(p.jsx)(Y.a,{className:ie.a.TransparentButton,onClick:()=>(async e=>{try{const{data:t}=await d.post("followers/",{followed:e.id});c((e=>({...e,followers_count:e.followers_count+1,following_id:t.id}))),b(!0)}catch(t){}})(n),children:Object(p.jsx)(F.a,{icon:Be.b,size:"xl",className:Re.a.ProfileBottomRightIcon})})}),O=Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"unfollow-tooltip",children:"Unfollow"}),children:Object(p.jsx)(Y.a,{className:ie.a.TransparentButton,onClick:()=>(async e=>{try{await d.delete("followers/".concat(e.following_id)),c((e=>({...e,followers_count:e.followers_count-1}))),b(!1)}catch(t){}})(n),children:Object(p.jsx)(F.a,{icon:A.l,size:"xl",className:Re.a.ProfileBottomRightIcon})})}),f=Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"edit-tooltip",children:"Edit"}),children:Object(p.jsx)(Y.a,{className:ie.a.TransparentButton,onClick:()=>m.push("/profile/".concat(t,"/edit")),children:Object(p.jsx)(F.a,{icon:A.h,size:"xl",className:Re.a.ProfileBottomRightIcon})})}),v=Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"feedback-tooltip",children:"Help us improve!"}),children:Object(p.jsx)(Y.a,{onClick:()=>m.push("/feedback/create"),className:ie.a.TransparentButton,children:Object(p.jsx)(F.a,{icon:A.d,size:"xl",className:Re.a.ProfileTopRightIcon})})}),_=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z.a,{className:Re.a.StatsRow,children:Object(p.jsxs)("p",{className:Re.a.StatsItem,children:["Playlists: ",n.playlists_count]})}),Object(p.jsx)(Z.a,{className:Re.a.StatsRow,children:Object(p.jsxs)("p",{className:Re.a.StatsItem,children:["Followers: ",n.followers_count]})}),Object(p.jsx)(Z.a,{className:Re.a.StatsRow,children:Object(p.jsxs)("p",{className:Re.a.StatsItem,children:["Following: ",n.following_count]})})]}),y=Object(p.jsxs)(Z.a,{className:Re.a.StatsRow,children:[Object(p.jsxs)(Q.a,{md:4,className:"align-self-center",children:[Object(p.jsx)("h4",{className:"mb-0",children:n.playlists_count}),Object(p.jsx)("p",{className:Re.a.StatsItem,children:"Playlists"})]}),Object(p.jsxs)(Q.a,{md:4,className:"align-self-center",children:[Object(p.jsx)("h4",{className:"mb-0",children:n.followers_count}),Object(p.jsx)("p",{className:Re.a.StatsItem,children:"Followers"})]}),Object(p.jsxs)(Q.a,{md:4,className:"align-self-center",children:[Object(p.jsx)("h4",{className:"mb-0",children:n.following_count}),Object(p.jsx)("p",{className:Re.a.StatsItem,children:"Following"})]})]});return r?Object(p.jsxs)(S.a,{className:Re.a.ProfileContainer,style:{backgroundImage:"url(".concat(n.background,")")},children:[Object(p.jsx)(S.a,{children:Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(Q.a,{xs:3,children:Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"back-tooltip",children:"Back"}),children:Object(p.jsx)(F.a,{icon:A.a,size:"xl",className:Re.a.FontAwesomeIcon,onClick:()=>m.goBack()})})}),Object(p.jsxs)(Q.a,{xs:6,children:[Object(p.jsx)("h2",{className:"mb-0",children:n.owner}),n.is_owner&&Object(p.jsx)("em",{className:Re.a.SmallText,children:"You're logged in as:"})]}),Object(p.jsx)(Q.a,{xs:3,children:Object(p.jsx)(Fe,{})})]})}),Object(p.jsx)(S.a,{className:Re.a.AvatarStatsContainer,children:Object(p.jsxs)(Z.a,{className:Re.a.AlignItemsCenter,children:[Object(p.jsxs)(Q.a,{xs:3,className:Re.a.AvatarContainer,children:[Object(p.jsx)(Y.a,{type:"link",className:ie.a.TransparentButton,onClick:()=>m.push("/profile/".concat(n.id)),children:Object(p.jsx)(C,{src:n.image,height:100})}),a&&!(null!==n&&void 0!==n&&n.is_owner)&&(j?O:!j&&x),a&&(null===n||void 0===n?void 0:n.is_owner)&&f,a&&(null===n||void 0===n?void 0:n.is_owner)&&v]}),Object(p.jsx)(Q.a,{xs:9,children:h?_:y})]})})]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(S.a,{className:Re.a.ProfileContainer,children:[Object(p.jsx)(S.a,{children:Object(p.jsx)(ue,{className:ye.a.Centered})}),Object(p.jsx)(S.a,{className:Re.a.AvatarStatsContainer,children:Object(p.jsx)(ue,{className:ye.a.Centered})})]})})};var Le=()=>{const{userId:e}=Object(i.g)();return J(),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Te,{userId:e}),Object(p.jsx)(we,{filter:"owner__profile=".concat(e),profileView:!0})]})},He=a(23),Ue=a.n(He);var Ee=function(){var e,t;const{userId:a}=Object(i.g)(),n=Object(i.f)(),c=Object(s.useRef)(null),r=Object(s.useRef)(null),[o,d]=Object(s.useState)({});return Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await l.get("profiles/".concat(a)),{is_owner:t}=e;t||n.push("/profile/".concat(a))}catch(e){}})()}),[n,a]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Te,{userId:a}),Object(p.jsx)(ae.a,{onSubmit:async e=>{var t,s;e.preventDefault();const i=new FormData;null!==c&&void 0!==c&&null!==(t=c.current)&&void 0!==t&&t.files[0]&&i.append("image",c.current.files[0]),null!==r&&void 0!==r&&null!==(s=r.current)&&void 0!==s&&s.files[0]&&i.append("background",r.current.files[0]);try{await l.put("profiles/".concat(a),i),n.push("/profile/".concat(a))}catch(b){var o,j;if(401!==(null===(o=b.response)||void 0===o?void 0:o.status))d(null===(j=b.response)||void 0===j?void 0:j.data)}},children:Object(p.jsxs)(S.a,{className:Ue.a.Container,children:[Object(p.jsx)(Z.a,{className:"justify-content-center",children:Object(p.jsx)(ae.a.Group,{className:Ue.a.FormGroup,children:Object(p.jsxs)(Q.a,{children:[Object(p.jsx)(ae.a.Label,{className:ie.a.Button,htmlFor:"profile-image-upload",children:"Change profile image"}),Object(p.jsx)(ae.a.File,{className:Ue.a.TextAlignLast,id:"profile-image-upload",accept:"image/*",ref:c})]})})}),null===o||void 0===o||null===(e=o.image)||void 0===e?void 0:e.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t))),Object(p.jsx)("br",{}),Object(p.jsx)(Z.a,{className:"justify-content-center",children:Object(p.jsx)(ae.a.Group,{className:Ue.a.FormGroup,children:Object(p.jsxs)(Q.a,{children:[Object(p.jsx)(ae.a.Label,{className:ie.a.Button,htmlFor:"background-image-upload",children:"Change background image"}),Object(p.jsx)(ae.a.File,{className:Ue.a.TextAlignLast,id:"background-image-upload",accept:"image/*",ref:r})]})})}),null===o||void 0===o||null===(t=o.background)||void 0===t?void 0:t.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t))),Object(p.jsx)(Y.a,{type:"submit",className:ie.a.Button,children:"Save"})]})})]})},Me=a(44);var De=e=>{let{playlist:t,setPlaylist:a}=e;const[n,c]=Object(s.useState)(0),[i,r]=Object(s.useState)({}),[o,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{(async()=>{if(t.rating_id){try{const{data:e}=await d.get("ratings/".concat(t.rating_id));c(e.score)}catch(e){r({message:"Error fetching rating data"})}j(!0)}})()}),[t]);const b={itemShapes:Me.StickerStar,activeFillColor:"#df604e",inactiveFillColor:"#df5f4e6e"};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{style:{marginBottom:"0"},children:Object(p.jsx)("em",{children:"Your rating:"})}),Object(p.jsx)(Me.Rating,{value:n,onChange:async e=>{if(r({}),0!==e)if(t.rating_id)try{await l.put("ratings/".concat(t.rating_id),{score:e}),c(e),a((a=>({...a,average_rating:u(a,n,e),...t.is_owner?{owner_rating:e}:{}})))}catch(s){r({message:"Error updating rating, please try again."}),j(!0)}else try{const{data:s}=await l.post("ratings/",{playlist:t.id,score:e});c(e),a((a=>({...a,rating_id:s.id,ratings_count:a.ratings_count+1,average_rating:m(a,e),...t.is_owner?{owner_rating:e}:{}})))}catch(s){r({message:"Error adding rating, please try again."}),j(!0)}},style:{maxWidth:250,margin:"auto"},itemStyles:b,items:5}),o&&(null===i||void 0===i?void 0:i.message)&&Object(p.jsx)(te.a,{variant:"warning",onClose:()=>j(!1),dismissible:!0,children:i.message}),n?Object(p.jsx)("p",{style:{fontSize:"0.9rem"},children:Object(p.jsx)("em",{children:"(Click to edit your rating)"})}):Object(p.jsx)("p",{style:{fontSize:"0.9rem"},children:Object(p.jsx)("em",{children:"(Click to add your rating)"})})]})},ze=a(51),We=a.n(ze);var Ge=()=>{const{id:e}=Object(i.g)(),[t,a]=Object(s.useState)([]),[n,c]=Object(s.useState)(!1),r=M(),o=Object(i.f)(),[d,j]=Object(s.useState)({}),[b,h]=Object(s.useState)(!1);J(),Object(s.useEffect)((()=>{c(!1),(async()=>{try{const{data:t}=await l.get("playlists/".concat(e));a(t),c(!0)}catch(s){var t;404===(null===(t=s.response)||void 0===t?void 0:t.status)?o.push("/404-error-page"):(j({message:"Error fetching playlist data, please refresh the page"}),h(!0))}})()}),[e,o]);const u={itemShapes:Me.StickerStar,activeFillColor:"#df604e",inactiveFillColor:"#df5f4e6e"},m={itemShapes:Me.StickerStar,itemStrokeWidth:2,activeFillColor:"#d14e3d",activeStrokeColor:"#5a5550",inactiveFillColor:"#df5f4e2a",inactiveStrokeColor:"#5a5550"},x=Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(Q.a,{xs:6}),Object(p.jsxs)(Q.a,{xs:6,style:{textAlign:"center"},children:[Object(p.jsxs)("p",{style:{marginBottom:"0"},children:["-",t.owner]}),Object(p.jsx)(Me.Rating,{readOnly:!0,value:t.owner_rating,style:{minWidth:75,maxWidth:100,margin:"auto"},itemStyles:m})]})]}),O=Object(p.jsxs)(Z.a,{children:[Object(p.jsx)(Q.a,{xs:6}),Object(p.jsx)(Q.a,{xs:6,style:{textAlign:"center"},children:Object(p.jsxs)("p",{style:{marginBottom:"0"},children:["-",t.owner]})})]});return n?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Te,{userId:t.owner_id}),Object(p.jsxs)(S.a,{className:We.a.Container,children:[Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{children:Object(p.jsx)("h2",{children:t.title})})}),Object(p.jsxs)(Z.a,{className:We.a.RowPadding,children:[Object(p.jsxs)(Q.a,{xs:6,children:[Object(p.jsxs)("em",{children:["Average Rating: ",t.average_rating||0]}),Object(p.jsx)(Me.Rating,{readOnly:!0,value:t.average_rating||0,style:{maxWidth:180,margin:"auto"},itemStyles:u}),Object(p.jsxs)("em",{children:["Rated: ",t.ratings_count," time(s)"]})]}),Object(p.jsxs)(Q.a,{xs:6,children:[Object(p.jsx)("p",{style:{marginBottom:"0"},children:"click here.."}),Object(p.jsx)(P.a,{placement:"bottom",overlay:Object(p.jsx)(I.a,{id:"back-tooltip",children:"Play"}),children:Object(p.jsx)(Y.a,{variant:"link",onClick:()=>{return e=t.iframe_uri,void r(e);var e},children:Object(p.jsx)(F.a,{icon:B.a,style:{color:"#1db954"},size:"2xl"})})}),Object(p.jsx)("p",{style:{marginBottom:"0"},children:"..have a listen!"})]})]}),Object(p.jsxs)(Z.a,{className:We.a.HighlightedContainer,children:[Object(p.jsx)(Q.a,{xs:4,children:Object(p.jsx)(Y.a,{variant:"link",onClick:()=>o.push("/profile/".concat(t.owner_id)),className:We.a.Button,children:Object(p.jsx)(he,{image:t.image,title:t.title})})}),Object(p.jsxs)(Q.a,{xs:8,children:[Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{className:We.a.ScreenSizeContidionalPadding,children:t.description?Object(p.jsxs)("p",{className:We.a.WordBreak,children:['"',t.description,'"']}):Object(p.jsx)("p",{children:Object(p.jsxs)("em",{children:["-",t.owner," hasn't said anything about this playlist yet-"]})})})}),t.owner_rating?x:!t.owner_rating&&t.description&&O]})]}),Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{children:Object(p.jsx)(De,{playlist:t,setPlaylist:a})})}),t.is_owner&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{children:Object(p.jsx)(Y.a,{onClick:()=>{o.push("/playlist/".concat(e,"/edit"))},className:ie.a.Button,children:"Edit Playlist"})})})})]}),b&&(null===d||void 0===d?void 0:d.message)&&Object(p.jsx)(te.a,{variant:"warning",onClose:()=>h(!1),dismissible:!0,children:d.message})]}):Object(p.jsx)(ue,{className:ye.a.Centered})};var Ye=function(){var e,t;const[a,n]=Object(s.useState)({owner_id:"",title:"",description:"",image:"",spotify_id:"",iframe_uri:"",url:""}),{owner_id:c,title:r,description:o,image:d,spotify_id:j,iframe_uri:b,url:h}=a,{id:u}=Object(i.g)(),m=Object(i.f)(),[x,O]=Object(s.useState)(!1),[g,f]=Object(s.useState)({}),[v,_]=Object(s.useState)(!1);Object(s.useEffect)((()=>{(async()=>{try{const{data:e}=await l.get("playlists/".concat(u)),{is_owner:t,owner_id:a,title:s,description:c,image:i,spotify_id:r,iframe_uri:o,url:d}=e;t?n({owner_id:a,title:s,description:c,image:i,spotify_id:r,iframe_uri:o,url:d}):m.push("/playlist/".concat(u))}catch(e){}})()}),[m,u]);const y=e=>{n({...a,[e.target.name]:e.target.value})};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Te,{userId:c}),Object(p.jsx)(ae.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",r),t.append("description",o),t.append("spotify_id",j),t.append("image",d),t.append("url",h),t.append("iframe_uri",b);try{await l.put("playlists/".concat(u),t),m.push("/playlist/".concat(u))}catch(n){var a,s;if(401!==(null===(a=n.response)||void 0===a?void 0:a.status))f(null===(s=n.response)||void 0===s?void 0:s.data)}},children:Object(p.jsxs)(S.a,{className:Ue.a.Container,children:[Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{children:Object(p.jsx)("h4",{children:"Edit Playlist"})})}),Object(p.jsx)(Z.a,{children:Object(p.jsxs)(Q.a,{children:[Object(p.jsxs)(ae.a.Group,{className:Ue.a.FormGroup,children:[Object(p.jsx)(ae.a.Label,{children:"Title:"}),Object(p.jsx)(ae.a.Control,{type:"text",name:"title",value:r,onChange:y,className:Ue.a.FormControl})]}),null===g||void 0===g||null===(e=g.title)||void 0===e?void 0:e.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t)))]})}),Object(p.jsx)(Z.a,{className:Ue.a.Playlist,children:Object(p.jsx)(Q.a,{children:Object(p.jsx)(he,{image:d,title:r})})}),Object(p.jsx)(Z.a,{children:Object(p.jsxs)(Q.a,{children:[Object(p.jsxs)(ae.a.Group,{className:Ue.a.FormGroup,children:[Object(p.jsx)(ae.a.Label,{children:"If you like, some details about this playlist:"}),Object(p.jsx)(ae.a.Control,{as:"textarea",rows:4,name:"description",value:o,placeholder:"How does this playlist make you feel? Where do you most enjoy listening to it?...",onChange:y,className:Ue.a.FormControl})]}),null===g||void 0===g||null===(t=g.description)||void 0===t?void 0:t.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t)))]})}),Object(p.jsx)(Z.a,{children:Object(p.jsxs)(Q.a,{children:[Object(p.jsx)(Y.a,{className:"".concat(ie.a.TransparentButton," ").concat(ie.a.MarginLeftRight),onClick:()=>O(!0),children:Object(p.jsx)(F.a,{icon:Be.c,size:"xl"})}),Object(p.jsx)(Y.a,{type:"button",className:"".concat(ie.a.Button," ").concat(ie.a.MarginLeftRight),onClick:()=>m.push("/playlist/".concat(u)),children:"Cancel"}),Object(p.jsx)(Y.a,{type:"submit",className:"".concat(ie.a.Button," ").concat(ie.a.MarginLeftRight),children:"Save"})]})}),v&&(null===g||void 0===g?void 0:g.message)&&Object(p.jsx)(te.a,{variant:"warning",onClose:()=>_(!1),dismissible:!0,children:g.message})]})}),Object(p.jsx)(ke,{show:x,onHide:()=>O(!1),onConfirm:async e=>{e.preventDefault();try{await l.delete("playlists/".concat(u)),O(!1),m.push("/profile/".concat(c))}catch(a){var t;f({message:(null===(t=a.response)||void 0===t?void 0:t.data)||"Something went wrong! Please try again."}),_(!0)}},title:"Delete ".concat(r,"?"),body:"Are you sure you want to delete this playlist? There's no going back."})]})};const qe="51c949a050b74ceba5688d10a1c7f5f1",Ke=(e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return crypto.getRandomValues(new Uint8Array(e)).reduce(((e,a)=>e+t[a%62]),"")})(64),Ve=async()=>{const e=await(async e=>{const t=(new TextEncoder).encode(e);return window.crypto.subtle.digest("SHA-256",t)})(Ke);return t=e,btoa(String.fromCharCode(...new Uint8Array(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");var t};let Je;Je="https://we-rate-music-react-f931068bb6db.herokuapp.com/spotify-search";const Qe=()=>(Object(s.useEffect)((()=>{let e=new URLSearchParams(window.location.search).get("code");e&&(window.localStorage.setItem("code",e),(async e=>{let t=localStorage.getItem("code_verifier");const a={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:qe,grant_type:"authorization_code",code:e,redirect_uri:Je,code_verifier:t})},s=await fetch("https://accounts.spotify.com/api/token",a),n=await s.json();n.access_token&&(localStorage.setItem("access_token",n.access_token),localStorage.setItem("refresh_token",n.refresh_token))})(e))}),[]),{handleAuthentication:async()=>{await(async()=>{const e=new URL("https://accounts.spotify.com/authorize");window.localStorage.setItem("code_verifier",Ke);const t=await Ve(),a={response_type:"code",client_id:qe,scope:"user-read-private user-read-email streaming",code_challenge_method:"S256",code_challenge:t,redirect_uri:Je};e.search=new URLSearchParams(a).toString(),window.location.href=e.toString()})()}});var Ze=function(e){var t;let{playlistData:a}=e;const n=g(),[c,i]=Object(s.useState)(!1),[r,o]=Object(s.useState)({}),[l,j]=Object(s.useState)(!1);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Y.a,{onClick:()=>i(!0),className:ie.a.Button,children:"Add"}),l&&(null===r||void 0===r?void 0:r.message)&&Object(p.jsx)(te.a,{variant:"warning",onClose:()=>j(!1),dismissible:!0,children:r.message}),Object(p.jsx)(ke,{show:c,onHide:()=>i(!1),onConfirm:async e=>{var t;e.preventDefault();const s={spotify_id:a.id,title:a.name,image:null===(t=a.images[0])||void 0===t?void 0:t.url,url:a.external_urls.spotify,iframe_uri:a.uri,owner:n.profile_id};try{await d.post("playlists/",s),i(!1)}catch(r){var c;o({message:(null===(c=r.response)||void 0===c?void 0:c.data)||"Something went wrong! Please try again."}),j(!0)}},title:'Add "'.concat(a.name,'" to your profile?'),body:Object(p.jsx)(he,{image:null===(t=a.images[0])||void 0===t?void 0:t.url,title:a.name})})]})},Xe=a(60),$e=a.n(Xe);var et=()=>{J();const{handleAuthentication:e}=Qe(),t=M(),a=g(),[n,c]=Object(s.useState)(),[i,r]=Object(s.useState)({}),[o,l]=Object(s.useState)(!1),[d,j]=Object(s.useState)(!1);Object(s.useEffect)((()=>{j(!1);const e=localStorage.getItem("lastSearch");e&&c(JSON.parse(e));const t=setTimeout((()=>{localStorage.getItem("access_token")||j(!0)}),1e3);return()=>{clearTimeout(t)}}),[]);return Object(p.jsxs)(p.Fragment,{children:[(null===a||void 0===a?void 0:a.profile_id)&&Object(p.jsx)(Te,{userId:null===a||void 0===a?void 0:a.profile_id}),Object(p.jsxs)(S.a,{className:$e.a.Container,children:[Object(p.jsx)(ge,{onSearch:async e=>{if(r({}),!e)return r({message:"Search field is empty"}),void l(!0);const t=new AbortController,a=t.signal;try{var s,n,i;await(async()=>{const e=localStorage.getItem("refresh_token"),t={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:e,client_id:qe})},a=await fetch("https://accounts.spotify.com/api/token",t),s=await a.json();localStorage.setItem("access_token",s.access_token),localStorage.setItem("refresh_token",s.refresh_token)})();const t=await fetch("https://api.spotify.com/v1/search?q=".concat(e,"&type=album%2Cplaylist%2Cartist&limit=50"),{headers:{Authorization:"Bearer "+localStorage.getItem("access_token")},signal:a}),r=await t.json(),o=[...(null===(s=r.albums)||void 0===s?void 0:s.items)||[],...(null===(n=r.playlists)||void 0===n?void 0:n.items)||[],...(null===(i=r.artists)||void 0===i?void 0:i.items)||[]];c(o),o.length&&localStorage.setItem("lastSearch",JSON.stringify(o))}catch(d){var o;r({message:(null===(o=d.response)||void 0===o?void 0:o.data)||"An error occurred in fetching"}),l(!0)}return()=>{t.abort()}}}),o&&(null===i||void 0===i?void 0:i.message)&&Object(p.jsx)(te.a,{variant:"warning",onClose:()=>l(!1),dismissible:!0,children:i.message}),Object(p.jsx)(S.a,{children:Object(p.jsx)(Z.a,{children:null!==n&&void 0!==n&&n.length?null===n||void 0===n?void 0:n.map((e=>{var a;return Object(p.jsxs)(Q.a,{className:$e.a.PaddingReset,xs:4,md:3,children:[Object(p.jsx)(Y.a,{variant:"link",onClick:()=>{return a=e.uri,void t(a);var a},className:$e.a.PaddingReset,children:Object(p.jsx)(he,{image:null===(a=e.images[0])||void 0===a?void 0:a.url,title:e.name})}),Object(p.jsx)(Z.a,{children:Object(p.jsxs)(Q.a,{className:$e.a.MarginBottom,children:[Object(p.jsx)("p",{className:$e.a.Margin,children:e.name}),Object(p.jsx)(Ze,{playlistData:e})]})})]},e.id)})):Object(p.jsx)("p",{children:"No search stored results..."})})})]}),Object(p.jsx)(ke,{show:d,onHide:()=>j(!1),onConfirm:e,title:"You will be redirected to Spotify",body:"Please authenticate this app with your Spotify account to take full advantage of its features. Once you are authenticated, you will be redirected back to the app. Thank you!"})]})};var tt=function(){var e,t,a;J();const[n,c]=Object(s.useState)({title:"",feedback:"",image:""}),{title:r,feedback:o}=n,d=Object(s.useRef)(),j=Object(i.f)(),[b,h]=Object(s.useState)({}),[u,m]=Object(s.useState)(!1),x=e=>{c({...n,[e.target.name]:e.target.value})},O=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z.a,{className:"pt-3",children:Object(p.jsxs)(Q.a,{children:[Object(p.jsx)("h1",{className:Ue.a.Title,children:"Welcome,"}),Object(p.jsx)("h3",{children:"and thank you for taking your time!"})]})}),Object(p.jsx)(Z.a,{className:Ue.a.HighlightedContainer,children:Object(p.jsx)(Q.a,{children:Object(p.jsx)("p",{children:"This is your chance to help us improve the app. A direct channel to the developers. Please be sensible and respectful. We appreciate your feedback and will consider all of your suggestions and implement them if possible."})})})]}),g=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(ae.a.Group,{children:[Object(p.jsx)(ae.a.Label,{children:"Title:"}),Object(p.jsx)(ae.a.Control,{type:"text",value:r,onChange:x,name:"title",placeholder:"Please add a title",className:Ue.a.FormControl})]}),null===b||void 0===b||null===(e=b.title)||void 0===e?void 0:e.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t))),Object(p.jsxs)(ae.a.Group,{children:[Object(p.jsx)(ae.a.Label,{children:"Your feedback:"}),Object(p.jsx)(ae.a.Control,{as:"textarea",rows:6,value:o,onChange:x,name:"feedback",placeholder:"Please add your feedback here (positive feedback is always welcome!)...",className:Ue.a.FormControl})]}),null===b||void 0===b||null===(t=b.feedback)||void 0===t?void 0:t.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t)))]});return Object(p.jsxs)(S.a,{className:Ue.a.OverflowHidden,children:[Object(p.jsx)(S.a,{children:O}),Object(p.jsxs)(ae.a,{onSubmit:async e=>{var t;e.preventDefault();const a=new FormData;var s;(a.append("title",r),a.append("feedback",o),null!==d&&void 0!==d&&null!==(t=d.current)&&void 0!==t&&t.files[0])&&a.append("image",null===d||void 0===d||null===(s=d.current)||void 0===s?void 0:s.files[0]);try{await l.post("feedback/",a),m(!0),setTimeout((()=>{j.push("/")}),4e3)}catch(c){var n;h(null===(n=c.response)||void 0===n?void 0:n.data)}},style:{"margin-bottom":"76px","padding-bottom":"10px"},children:[Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{children:Object(p.jsx)(S.a,{children:g})})}),Object(p.jsx)(Z.a,{children:Object(p.jsx)(Q.a,{children:Object(p.jsx)(S.a,{children:Object(p.jsxs)(ae.a.Group,{children:[Object(p.jsx)(ae.a.Label,{htmlFor:"image-upload",children:"Upload an image (optional):"}),Object(p.jsx)(ae.a.File,{className:Ue.a.TextAlignLast,id:"image-upload",ref:d,accept:"image/*",onChange:e=>{e.target.files.length&&c({...n,image:URL.createObjectURL(e.target.files[0])})}}),null===b||void 0===b||null===(a=b.image)||void 0===a?void 0:a.map(((e,t)=>Object(p.jsx)(te.a,{variant:"warning",children:e},t)))]})})})}),Object(p.jsx)(Y.a,{className:ie.a.Button,onClick:()=>j.goBack(),children:"Cancel"}),Object(p.jsx)(Y.a,{className:ie.a.Button,type:"submit",children:"Submit"}),u&&Object(p.jsx)(S.a,{className:"pt-3",children:Object(p.jsx)(te.a,{variant:"success",onClose:()=>m(!1),dismissible:!0,children:"Feedback submitted, Thank you! You will be directed back to your profile shortly."})})]})]})},at=a.p+"static/media/waveform.329b796b.png";var st=()=>Object(p.jsx)(S.a,{style:{padding:"150px 0",overflow:"hidden"},children:Object(p.jsx)(Z.a,{children:Object(p.jsxs)(Q.a,{children:[Object(p.jsxs)("h1",{children:["4",Object(p.jsx)(F.a,{icon:Be.a}),"4"]}),Object(p.jsx)("h4",{children:"Page not found"}),Object(p.jsx)("img",{src:at,alt:"Sound waveform",style:{width:"100%"}}),Object(p.jsxs)("p",{children:["Oops... The link you clicked may be broken or the page may have been removed. Click to go back to the ",Object(p.jsx)(_.b,{to:"/",children:"homepage"}),"."]})]})})});a(134);var nt=function(){const e=g(),t=(null===e||void 0===e?void 0:e.profile_id)||"";return Object(p.jsxs)("div",{className:oe.a.App,children:[Object(p.jsx)(L,{}),Object(p.jsx)(V,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/",render:()=>Object(p.jsx)(ee,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/signin",render:()=>Object(p.jsx)(de,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/signup",render:()=>Object(p.jsx)(le,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/global",render:()=>Object(p.jsx)(we,{pageName:"All Playlists"})}),Object(p.jsx)(i.a,{exact:!0,path:"/feed",render:()=>Object(p.jsx)(we,{pageName:"Playlists of Followed Users",filter:"owner__followed_by__owner__profile=".concat(t)})}),Object(p.jsx)(i.a,{exact:!0,path:"/profile/:userId",render:()=>Object(p.jsx)(Le,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/profile/:userId/edit",render:()=>Object(p.jsx)(Ee,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/rated-playlists",render:()=>Object(p.jsx)(we,{pageName:"All Playlists You Have Rated",filter:"ratings__owner__profile=".concat(t)})}),Object(p.jsx)(i.a,{exact:!0,path:"/playlist/:id",render:()=>Object(p.jsx)(Ge,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/playlist/:id/edit",render:()=>Object(p.jsx)(Ye,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/spotify-search",render:()=>Object(p.jsx)(et,{})}),Object(p.jsx)(i.a,{exact:!0,path:"/feedback/create",render:()=>Object(p.jsx)(tt,{})}),Object(p.jsx)(i.a,{render:()=>Object(p.jsx)(st,{})})]})]})};var ct=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,138)).then((t=>{let{getCLS:a,getFID:s,getFCP:n,getLCP:c,getTTFB:i}=t;a(e),s(e),n(e),c(e),i(e)}))};c.a.render(Object(p.jsx)(_.a,{children:Object(p.jsx)(v,{children:Object(p.jsx)(D,{children:Object(p.jsx)(nt,{})})})}),document.getElementById("root")),ct()},18:function(e,t,a){e.exports={ProfileContainer:"Profile_ProfileContainer__1MhJH",AvatarContainer:"Profile_AvatarContainer__314Ah",AvatarStatsContainer:"Profile_AvatarStatsContainer__2LRQA",StatsRow:"Profile_StatsRow__dTi8j",StatsItem:"Profile_StatsItem__1s6Rh",FontAwesomeIcon:"Profile_FontAwesomeIcon__1XfKb",ProfileBottomRightIcon:"Profile_ProfileBottomRightIcon__gTIrd",ProfileTopRightIcon:"Profile_ProfileTopRightIcon__31h-G",SmallText:"Profile_SmallText__-iVK2",AlignItemsCenter:"Profile_AlignItemsCenter__3z0zF"}},23:function(e,t,a){e.exports={Container:"EditCreateForms_Container__2DsIC",OverflowHidden:"EditCreateForms_OverflowHidden__3fhes",Playlist:"EditCreateForms_Playlist__1cGCN",FormGroup:"EditCreateForms_FormGroup__1AQPR",FormControl:"EditCreateForms_FormControl__U6OqG",TextAlignLast:"EditCreateForms_TextAlignLast__3y1Ow",HighlightedContainer:"EditCreateForms_HighlightedContainer__3q1wl"}},29:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",Brand:"NavBar_Brand__iWmt7",SignInOut:"NavBar_SignInOut__3hTFe",MarginRight:"NavBar_MarginRight__1UDrv",SignUpIn:"NavBar_SignUpIn__3Qj2P",Active:"NavBar_Active__3PBZb",ProfileActive:"NavBar_ProfileActive__2t0Zs"}},34:function(e,t,a){e.exports={Row:"SignInUpForm_Row__3PbVy",Input:"SignInUpForm_Input__3xaLZ",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm",SignUpCol:"SignInUpForm_SignUpCol__28o4y",SignInCol:"SignInUpForm_SignInCol__3ImPK"}},37:function(e,t,a){e.exports={App:"App_App__16ZpL",Content:"App_Content__ZaMNr",FillerImage:"App_FillerImage__2ob-g",PaddingReset:"App_PaddingReset__2Yixf"}},48:function(e,t,a){e.exports={Centered:"LoadingSpinner_Centered__2UoRO"}},49:function(e,t,a){e.exports={AccordionPosition:"AccordionWindow_AccordionPosition__3Pg_2",Header:"AccordionWindow_Header__3EVT_",Card:"AccordionWindow_Card__RFCw5",PaddingReset:"AccordionWindow_PaddingReset__RMqnf",Hidden:"AccordionWindow_Hidden__ZcMNb"}},50:function(e,t,a){e.exports={Container:"Homepage_Container__sxUK-",TitleContainer:"Homepage_TitleContainer__rTDdU",Title:"Homepage_Title__jDukA",IntroContainer:"Homepage_IntroContainer__1pqil",Line:"Homepage_Line__3qZsO",SecondLine:"Homepage_SecondLine__2Ymv4"}},51:function(e,t,a){e.exports={Container:"PlaylistDetail_Container__37TnQ",HighlightedContainer:"PlaylistDetail_HighlightedContainer__1Lqrp",RowPadding:"PlaylistDetail_RowPadding__2gbU9",WordBreak:"PlaylistDetail_WordBreak__3E_Bg",ScreenSizeContidionalPadding:"PlaylistDetail_ScreenSizeContidionalPadding__2iVym"}},58:function(e,t,a){e.exports={DropdownMenu:"SearchBar_DropdownMenu__2J2wk",DropdownItem:"SearchBar_DropdownItem__3uVVu",InfiniteScroll:"SearchBar_InfiniteScroll__1tS1z"}},59:function(e,t,a){e.exports={Container:"PlaylistsPage_Container__KgRlF",ProfileContainer:"PlaylistsPage_ProfileContainer__1ky5y",HighlightedContainer:"PlaylistsPage_HighlightedContainer__3oKHx",Button:"PlaylistsPage_Button__2jYpK",InfiniteScroll:"PlaylistsPage_InfiniteScroll__1cMqB"}},60:function(e,t,a){e.exports={Container:"SpotifySearchPage_Container__31uhH",PaddingReset:"SpotifySearchPage_PaddingReset__2gaVg",Margin:"SpotifySearchPage_Margin__sjI4C",MarginBottom:"SpotifySearchPage_MarginBottom__1JwwK"}},65:function(e,t,a){e.exports={Header:"ModalWindow_Header__hiHjJ",Body:"ModalWindow_Body__13Mmm",Color:"ModalWindow_Color__9jnUe",Footer:"ModalWindow_Footer__3oRO7"}},96:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__196lW"}},97:function(e,t,a){e.exports={Image:"Playlist_Image__2QZQC"}},98:function(e,t,a){e.exports={FontAwesomeIcon:"SignOutButton_FontAwesomeIcon__WBpEv"}}},[[135,1,2]]]);
//# sourceMappingURL=main.6c0973fe.chunk.js.map